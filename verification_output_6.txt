
> stacklens-ai-platform@1.0.0 test:api
> playwright test tests/api

[dotenv@17.2.3] injecting env (14) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

Running 102 tests using 5 workers

[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
âœ“ Auth state file verified
Starting authentication setup...
  âœ“    2 [setup] â€º tests/auth.setup.ts:135:1 â€º verify auth state (923ms)
Using TEST_FIREBASE_TOKEN for authentication...
âœ“ Token exchange successful
âœ“ Authentication successful with session token
âœ“ Authentication state saved to /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/.auth/user.json
  âœ“    1 [setup] â€º tests/auth.setup.ts:15:1 â€º authenticate user (18.3s)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
  âœ“    3 [api-tests] â€º tests/api/auth-upload.test.ts:27:5 â€º Authentication API â€º POST /api/auth/firebase-verify - should verify token (825ms)
  âœ“    4 [api-tests] â€º tests/api/auth-upload.test.ts:42:5 â€º Authentication API â€º GET /api/auth/me - should return current user (875ms)
  âœ“    5 [api-tests] â€º tests/api/auth-upload.test.ts:11:5 â€º Authentication API â€º POST /api/auth/firebase-signin - should authenticate user (869ms)
  âœ“    7 [api-tests] â€º tests/api/auth-upload.test.ts:68:5 â€º Authentication API â€º GET /api/auth/me - should reject unauthenticated request (841ms)
  âœ“    6 [api-tests] â€º tests/api/auth-upload.test.ts:54:5 â€º Authentication API â€º POST /api/auth/firebase-signin - should reject invalid token (866ms)
  âœ˜    9 [api-tests] â€º tests/api/auth-upload.test.ts:104:5 â€º File Upload API â€º POST /api/upload - should upload CSV file (59ms)
  âœ˜    8 [api-tests] â€º tests/api/auth-upload.test.ts:84:5 â€º File Upload API â€º POST /api/upload - should upload Excel file (101ms)
  âœ˜   10 [api-tests] â€º tests/api/auth-upload.test.ts:119:5 â€º File Upload API â€º POST /api/upload - should reject invalid file type (63ms)
  âœ˜   11 [api-tests] â€º tests/api/auth-upload.test.ts:138:5 â€º File Upload API â€º GET /api/files - should list uploaded files (71ms)
  âœ˜   12 [api-tests] â€º tests/api/auth-upload.test.ts:154:5 â€º File Upload API â€º GET /api/files/:id - should get file details (109ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
  âœ˜   13 [api-tests] â€º tests/api/comprehensive.test.ts:5:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should retrieve all errors (466ms)
  âœ˜   14 [api-tests] â€º tests/api/comprehensive.test.ts:25:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by severity (463ms)
  âœ˜   15 [api-tests] â€º tests/api/auth-upload.test.ts:179:5 â€º File Upload API â€º DELETE /api/files/:id - should delete file (466ms)
  âœ˜   16 [api-tests] â€º tests/api/comprehensive.test.ts:13:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should support pagination (419ms)
  âœ˜   17 [api-tests] â€º tests/api/comprehensive.test.ts:36:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by error type (486ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }
  âœ˜   18 [api-tests] â€º tests/api/comprehensive.test.ts:47:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by date range (375ms)
  âœ˜   20 [api-tests] â€º tests/api/comprehensive.test.ts:69:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by resolved status (363ms)
  âœ˜   19 [api-tests] â€º tests/api/comprehensive.test.ts:58:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should search by message (366ms)
  âœ˜   21 [api-tests] â€º tests/api/comprehensive.test.ts:80:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by store (357ms)
  âœ˜   22 [api-tests] â€º tests/api/comprehensive.test.ts:91:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should support sorting (349ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
  âœ˜   23 [api-tests] â€º tests/api/comprehensive.test.ts:115:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should create new error (365ms)
  âœ˜   24 [api-tests] â€º tests/api/comprehensive.test.ts:105:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should handle invalid query parameters gracefully (670ms)
  âœ˜   25 [api-tests] â€º tests/api/comprehensive.test.ts:136:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should validate required fields (667ms)
  âœ˜   26 [api-tests] â€º tests/api/comprehensive.test.ts:151:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should validate severity values (662ms)
  âœ˜   27 [api-tests] â€º tests/api/comprehensive.test.ts:165:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should set default values for optional fields (1.1s)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
  âœ˜   28 [api-tests] â€º tests/api/comprehensive.test.ts:220:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should update error fields (405ms)
  âœ˜   30 [api-tests] â€º tests/api/comprehensive.test.ts:213:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should return 400 for invalid ID format (380ms)
  âœ˜   29 [api-tests] â€º tests/api/comprehensive.test.ts:185:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should retrieve specific error by ID (429ms)
  âœ˜   31 [api-tests] â€º tests/api/comprehensive.test.ts:208:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should return 404 for non-existent error (424ms)
  âœ˜   32 [api-tests] â€º tests/api/comprehensive.test.ts:253:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should validate updated field values (353ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
  âœ˜   33 [api-tests] â€º tests/api/comprehensive.test.ts:271:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should return 404 when updating non-existent error (377ms)
  âœ˜   34 [api-tests] â€º tests/api/comprehensive.test.ts:304:9 â€º API Tests - Error Management Endpoints â€º DELETE /api/errors/:id â€º should return 404 when deleting non-existent error (375ms)
  âœ˜   35 [api-tests] â€º tests/api/comprehensive.test.ts:311:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/bulk â€º should create multiple errors in bulk (376ms)
  âœ˜   36 [api-tests] â€º tests/api/comprehensive.test.ts:281:9 â€º API Tests - Error Management Endpoints â€º DELETE /api/errors/:id â€º should delete error (367ms)
  âœ˜   37 [api-tests] â€º tests/api/comprehensive.test.ts:330:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/bulk â€º should handle validation errors in bulk creation (351ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
  âœ˜   38 [api-tests] â€º tests/api/comprehensive.test.ts:347:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should retrieve error statistics (363ms)
  âœ˜   39 [api-tests] â€º tests/api/comprehensive.test.ts:392:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as JSON (367ms)
  âœ˜   41 [api-tests] â€º tests/api/comprehensive.test.ts:359:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should filter statistics by date range (362ms)
  âœ˜   40 [api-tests] â€º tests/api/comprehensive.test.ts:369:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should provide statistics by store (363ms)
  âœ˜   42 [api-tests] â€º tests/api/comprehensive.test.ts:379:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as CSV (364ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
  âœ˜   43 [api-tests] â€º tests/api/comprehensive.test.ts:422:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should retrieve all stores (510ms)
  âœ˜   44 [api-tests] â€º tests/api/comprehensive.test.ts:430:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should support pagination for stores (412ms)
  âœ˜   45 [api-tests] â€º tests/api/comprehensive.test.ts:446:9 â€º API Tests - Store & Kiosk Management â€º POST /api/stores â€º should create new store (393ms)
  âœ˜   47 [api-tests] â€º tests/api/comprehensive.test.ts:438:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should search stores by name (394ms)
  âœ˜   46 [api-tests] â€º tests/api/comprehensive.test.ts:405:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as Excel (394ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
  âœ˜   50 [api-tests] â€º tests/api/comprehensive.test.ts:481:9 â€º API Tests - Store & Kiosk Management â€º GET /api/kiosks â€º should retrieve all kiosks (371ms)
  âœ˜   51 [api-tests] â€º tests/api/comprehensive.test.ts:489:9 â€º API Tests - Store & Kiosk Management â€º GET /api/kiosks â€º should filter kiosks by store (361ms)
  âœ˜   52 [api-tests] â€º tests/api/comprehensive.test.ts:463:9 â€º API Tests - Store & Kiosk Management â€º POST /api/stores â€º should prevent duplicate store numbers (363ms)
  âœ˜   49 [api-tests] â€º tests/api/comprehensive.test.ts:501:9 â€º API Tests - Store & Kiosk Management â€º POST /api/kiosks â€º should create new kiosk (386ms)
  âœ˜   48 [api-tests] â€º tests/api/comprehensive.test.ts:517:9 â€º API Tests - Store & Kiosk Management â€º POST /api/kiosks â€º should validate kiosk belongs to valid store (441ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
  âœ˜   53 [api-tests] â€º tests/api/comprehensive.test.ts:554:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/train â€º should validate training configuration (376ms)
  âœ˜   56 [api-tests] â€º tests/api/comprehensive.test.ts:568:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/jobs/:jobId â€º should retrieve training job status (368ms)
  âœ˜   54 [api-tests] â€º tests/api/comprehensive.test.ts:535:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/train â€º should initiate ML training job (404ms)
  âœ˜   57 [api-tests] â€º tests/api/comprehensive.test.ts:615:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/models â€º should list all trained models (502ms)
  âœ˜   55 [api-tests] â€º tests/api/comprehensive.test.ts:594:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/predict â€º should make prediction with trained model (416ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }
  âœ˜   58 [api-tests] â€º tests/api/comprehensive.test.ts:623:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/models â€º should filter models by status (354ms)
  âœ˜   59 [api-tests] â€º tests/api/comprehensive.test.ts:685:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/summarize â€º should summarize multiple errors (351ms)
  âœ˜   60 [api-tests] â€º tests/api/comprehensive.test.ts:666:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/suggest â€º should provide fix suggestions (348ms)
  âœ˜   61 [api-tests] â€º tests/api/comprehensive.test.ts:655:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/analyze â€º should handle timeout for long-running analysis (342ms)
  âœ˜   62 [api-tests] â€º tests/api/comprehensive.test.ts:637:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/analyze â€º should analyze error with AI (343ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
  âœ˜   63 [api-tests] â€º tests/api/comprehensive.test.ts:707:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should handle Excel file upload (365ms)
  âœ˜   64 [api-tests] â€º tests/api/comprehensive.test.ts:785:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/firebase â€º should authenticate with valid Firebase token (367ms)
  âœ˜   65 [api-tests] â€º tests/api/comprehensive.test.ts:726:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should reject files exceeding size limit (367ms)
  âœ˜   66 [api-tests] â€º tests/api/comprehensive.test.ts:742:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should reject unsupported file types (367ms)
  âœ˜   67 [api-tests] â€º tests/api/comprehensive.test.ts:760:9 â€º API Tests - File Upload & Processing â€º GET /api/uploads/:fileId â€º should retrieve upload status (359ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
  âœ˜   69 [api-tests] â€º tests/api/comprehensive.test.ts:838:9 â€º API Tests - Authentication & Authorization â€º GET /api/admin/users â€º should allow access with admin token (347ms)
  âœ˜   68 [api-tests] â€º tests/api/comprehensive.test.ts:799:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/firebase â€º should reject invalid token (356ms)
  âœ˜   71 [api-tests] â€º tests/api/comprehensive.test.ts:871:5 â€º API Tests - Request Validation â€º should reject requests with invalid Content-Type (346ms)
  âœ˜   70 [api-tests] â€º tests/api/comprehensive.test.ts:811:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/logout â€º should logout user (351ms)
  âœ˜   72 [api-tests] â€º tests/api/comprehensive.test.ts:831:9 â€º API Tests - Authentication & Authorization â€º GET /api/admin/users â€º should require admin role (350ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
  âœ˜   75 [api-tests] â€º tests/api/comprehensive.test.ts:907:5 â€º API Tests - Request Validation â€º should validate required headers (361ms)
  âœ˜   74 [api-tests] â€º tests/api/comprehensive.test.ts:893:5 â€º API Tests - Request Validation â€º should enforce maximum payload size (452ms)
  âœ˜   73 [api-tests] â€º tests/api/comprehensive.test.ts:882:5 â€º API Tests - Request Validation â€º should validate JSON syntax (431ms)
  âœ˜   76 [api-tests] â€º tests/api/comprehensive.test.ts:918:5 â€º API Tests - Request Validation â€º should handle missing request body (531ms)
  âœ˜   77 [api-tests] â€º tests/api/comprehensive.test.ts:924:5 â€º API Tests - Request Validation â€º should validate URL parameter formats (797ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
  âœ˜   78 [api-tests] â€º tests/api/comprehensive.test.ts:948:5 â€º API Tests - Response Format Validation â€º should include CORS headers (366ms)
  âœ˜   80 [api-tests] â€º tests/api/comprehensive.test.ts:941:5 â€º API Tests - Response Format Validation â€º should return proper Content-Type headers (360ms)
  âœ˜   79 [api-tests] â€º tests/api/comprehensive.test.ts:930:5 â€º API Tests - Request Validation â€º should handle special characters in query params (369ms)
  âœ˜   81 [api-tests] â€º tests/api/comprehensive.test.ts:959:5 â€º API Tests - Response Format Validation â€º should return consistent error response format (421ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
  âœ˜   82 [api-tests] â€º tests/api/comprehensive.test.ts:969:5 â€º API Tests - Response Format Validation â€º should include pagination metadata (439ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
  âœ˜   83 [api-tests] â€º tests/api/comprehensive.test.ts:981:5 â€º API Tests - Response Format Validation â€º should return timestamps in ISO format (370ms)
  âœ˜   84 [api-tests] â€º tests/api/comprehensive.test.ts:1009:5 â€º API Tests - Error Handling â€º should handle malformed route parameters (373ms)
  âœ˜   85 [api-tests] â€º tests/api/comprehensive.test.ts:1003:5 â€º API Tests - Error Handling â€º should return 404 for non-existent routes (370ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
  âœ˜   86 [api-tests] â€º tests/api/comprehensive.test.ts:995:5 â€º API Tests - Error Handling â€º should handle database connection errors gracefully (371ms)
  âœ˜   87 [api-tests] â€º tests/api/comprehensive.test.ts:1015:5 â€º API Tests - Error Handling â€º should provide helpful error messages (365ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
  âœ˜   90 [api-tests] â€º tests/api/comprehensive.test.ts:1057:5 â€º API Tests - Rate Limiting â€º should include rate limit headers (508ms)
  âœ˜   91 [api-tests] â€º tests/api/comprehensive.test.ts:1027:5 â€º API Tests - Error Handling â€º should handle concurrent request failures (729ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
  âœ˜   88 [api-tests] â€º tests/api/comprehensive.test.ts:1041:5 â€º API Tests - Rate Limiting â€º should implement rate limiting (893ms)
  âœ˜   89 [api-tests] â€º tests/api/comprehensive.test.ts:1073:5 â€º API Tests - Rate Limiting â€º should reset rate limits after time window (877ms)
  âœ˜   92 [api-tests] â€º tests/api/comprehensive.test.ts:1093:5 â€º API Tests - Pagination Edge Cases â€º should handle page=0 (368ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
  âœ˜   93 [api-tests] â€º tests/api/comprehensive.test.ts:1100:5 â€º API Tests - Pagination Edge Cases â€º should handle negative page numbers (454ms)
  âœ˜   94 [api-tests] â€º tests/api/comprehensive.test.ts:1106:5 â€º API Tests - Pagination Edge Cases â€º should handle excessive page numbers (450ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
  âœ˜   96 [api-tests] â€º tests/api/comprehensive.test.ts:1116:5 â€º API Tests - Pagination Edge Cases â€º should handle limit=0 (364ms)
  âœ˜   95 [api-tests] â€º tests/api/comprehensive.test.ts:1122:5 â€º API Tests - Pagination Edge Cases â€º should enforce maximum limit (365ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
  âœ˜   97 [api-tests] â€º tests/api/comprehensive.test.ts:1136:5 â€º API Tests - Concurrent Operations â€º should handle concurrent reads safely (905ms)
  âœ˜   98 [api-tests] â€º tests/api/comprehensive.test.ts:1164:5 â€º API Tests - Concurrent Operations â€º should prevent race conditions on updates (403ms)
  âœ˜   99 [api-tests] â€º tests/api/comprehensive.test.ts:1147:5 â€º API Tests - Concurrent Operations â€º should handle concurrent writes with proper isolation (419ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }
  âœ˜  100 [api-tests] â€º tests/api/comprehensive.test.ts:1197:5 â€º API Tests - Cache Control â€º should include appropriate cache headers (493ms)
  âœ˜  101 [api-tests] â€º tests/api/comprehensive.test.ts:1208:5 â€º API Tests - Cache Control â€º should respect If-None-Match for conditional requests (443ms)
[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
  âœ˜  102 [api-tests] â€º tests/api/comprehensive.test.ts:1223:5 â€º API Tests - Cache Control â€º should support If-Modified-Since (351ms)


  1) [api-tests] â€º tests/api/auth-upload.test.ts:84:5 â€º File Upload API â€º POST /api/upload - should upload Excel file 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m200[39m
    Received: [31m400[39m

      94 |         });
      95 |
    > 96 |         expect(response.status()).toBe(200);
         |                                   ^
      97 |
      98 |         const data = await response.json();
      99 |         expect(data).toHaveProperty('fileId');
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/auth-upload.test.ts:96:35

  2) [api-tests] â€º tests/api/auth-upload.test.ts:104:5 â€º File Upload API â€º POST /api/upload - should upload CSV file 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m200[39m
    Received: [31m400[39m

      114 |         });
      115 |
    > 116 |         expect(response.status()).toBe(200);
          |                                   ^
      117 |     });
      118 |
      119 |     test('POST /api/upload - should reject invalid file type', async ({ apiContext }) => {
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/auth-upload.test.ts:116:35

  3) [api-tests] â€º tests/api/auth-upload.test.ts:119:5 â€º File Upload API â€º POST /api/upload - should reject invalid file type 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Invalid file type"[39m
    Received string:    [31m"No file uploaded"[39m

      133 |         const data = await response.json();
      134 |         expect(data).toHaveProperty('message');
    > 135 |         expect(data.message).toContain('Invalid file type');
          |                              ^
      136 |     });
      137 |
      138 |     test('GET /api/files - should list uploaded files', async ({ apiContext }) => {
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/auth-upload.test.ts:135:30

  4) [api-tests] â€º tests/api/auth-upload.test.ts:138:5 â€º File Upload API â€º GET /api/files - should list uploaded files 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32mtrue[39m
    Received: [31mfalse[39m

      143 |
      144 |         const data = await response.json();
    > 145 |         expect(Array.isArray(data)).toBe(true);
          |                                     ^
      146 |
      147 |         if (data.length > 0) {
      148 |             expect(data[0]).toHaveProperty('id');
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/auth-upload.test.ts:145:37

  5) [api-tests] â€º tests/api/auth-upload.test.ts:154:5 â€º File Upload API â€º GET /api/files/:id - should get file details 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m200[39m
    Received: [31m400[39m

      170 |         const response = await apiContext.get(`/api/files/${fileId}`);
      171 |
    > 172 |         expect(response.status()).toBe(200);
          |                                   ^
      173 |
      174 |         const data = await response.json();
      175 |         expect(data).toHaveProperty('id', fileId);
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/auth-upload.test.ts:172:35

  6) [api-tests] â€º tests/api/auth-upload.test.ts:179:5 â€º File Upload API â€º DELETE /api/files/:id - should delete file 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/upload[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 242[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/auth-upload.test.ts:182:49

  7) [api-tests] â€º tests/api/comprehensive.test.ts:5:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should retrieve all errors 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:6:47

  8) [api-tests] â€º tests/api/comprehensive.test.ts:13:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should support pagination 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=1&limit=10[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:14:47

  9) [api-tests] â€º tests/api/comprehensive.test.ts:25:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by severity 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?severity=critical[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:26:47

  10) [api-tests] â€º tests/api/comprehensive.test.ts:36:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by error type 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?errorType=Runtime[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:37:47

  11) [api-tests] â€º tests/api/comprehensive.test.ts:47:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by date range 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?startDate=2025-01-01&endDate=2025-12-31[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:51:47

  12) [api-tests] â€º tests/api/comprehensive.test.ts:58:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should search by message 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?search=database[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:59:47

  13) [api-tests] â€º tests/api/comprehensive.test.ts:69:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by resolved status 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?resolved=false[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:70:47

  14) [api-tests] â€º tests/api/comprehensive.test.ts:80:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by store 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?store=STORE-0001[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:81:47

  15) [api-tests] â€º tests/api/comprehensive.test.ts:91:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should support sorting 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?sortBy=timestamp&order=desc[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:92:47

  16) [api-tests] â€º tests/api/comprehensive.test.ts:105:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should handle invalid query parameters gracefully 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=-1&limit=1000[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:106:47

  17) [api-tests] â€º tests/api/comprehensive.test.ts:115:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should create new error 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 139[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:125:47

  18) [api-tests] â€º tests/api/comprehensive.test.ts:136:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should validate required fields 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 19[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:142:47

  19) [api-tests] â€º tests/api/comprehensive.test.ts:151:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should validate severity values 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 76[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:158:47

  20) [api-tests] â€º tests/api/comprehensive.test.ts:165:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should set default values for optional fields 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 69[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:172:47

  21) [api-tests] â€º tests/api/comprehensive.test.ts:185:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should retrieve specific error by ID 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 69[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:193:53

  22) [api-tests] â€º tests/api/comprehensive.test.ts:208:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should return 404 for non-existent error 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/99999999[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:209:47

  23) [api-tests] â€º tests/api/comprehensive.test.ts:213:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should return 400 for invalid ID format 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/invalid-id[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:214:47

  24) [api-tests] â€º tests/api/comprehensive.test.ts:220:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should update error fields 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 66[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:228:53

  25) [api-tests] â€º tests/api/comprehensive.test.ts:253:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should validate updated field values 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 54[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:254:53

  26) [api-tests] â€º tests/api/comprehensive.test.ts:271:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should return 404 when updating non-existent error 

    Error: apiRequestContext.patch: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ PATCH http://localhost:4001/api/errors/99999999[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 17[22m

        at apiRequestContext.patch: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:272:47

  27) [api-tests] â€º tests/api/comprehensive.test.ts:281:9 â€º API Tests - Error Management Endpoints â€º DELETE /api/errors/:id â€º should delete error 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 65[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:289:53

  28) [api-tests] â€º tests/api/comprehensive.test.ts:304:9 â€º API Tests - Error Management Endpoints â€º DELETE /api/errors/:id â€º should return 404 when deleting non-existent error 

    Error: apiRequestContext.delete: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ DELETE http://localhost:4001/api/errors/99999999[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.delete: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:305:53

  29) [api-tests] â€º tests/api/comprehensive.test.ts:311:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/bulk â€º should create multiple errors in bulk 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors/bulk[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 215[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:318:47

  30) [api-tests] â€º tests/api/comprehensive.test.ts:330:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/bulk â€º should handle validation errors in bulk creation 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors/bulk[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 149[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:336:47

  31) [api-tests] â€º tests/api/comprehensive.test.ts:347:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should retrieve error statistics 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/stats[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:348:47

  32) [api-tests] â€º tests/api/comprehensive.test.ts:359:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should filter statistics by date range 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/stats?startDate=2025-01-01&endDate=2025-12-31[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:360:47

  33) [api-tests] â€º tests/api/comprehensive.test.ts:369:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should provide statistics by store 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/stats/by-store[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:370:47

  34) [api-tests] â€º tests/api/comprehensive.test.ts:379:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as CSV 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors/export[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 50[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:380:47

  35) [api-tests] â€º tests/api/comprehensive.test.ts:392:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as JSON 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors/export[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 30[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:393:47

  36) [api-tests] â€º tests/api/comprehensive.test.ts:405:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as Excel 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors/export[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 46[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:406:47

  37) [api-tests] â€º tests/api/comprehensive.test.ts:422:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should retrieve all stores 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/stores[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:423:47

  38) [api-tests] â€º tests/api/comprehensive.test.ts:430:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should support pagination for stores 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/stores?page=1&limit=20[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:431:47

  39) [api-tests] â€º tests/api/comprehensive.test.ts:438:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should search stores by name 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/stores?search=test[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:439:47

  40) [api-tests] â€º tests/api/comprehensive.test.ts:446:9 â€º API Tests - Store & Kiosk Management â€º POST /api/stores â€º should create new store 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/stores[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 97[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:454:47

  41) [api-tests] â€º tests/api/comprehensive.test.ts:463:9 â€º API Tests - Store & Kiosk Management â€º POST /api/stores â€º should prevent duplicate store numbers 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/stores[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 78[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:467:30

  42) [api-tests] â€º tests/api/comprehensive.test.ts:481:9 â€º API Tests - Store & Kiosk Management â€º GET /api/kiosks â€º should retrieve all kiosks 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/kiosks[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:482:47

  43) [api-tests] â€º tests/api/comprehensive.test.ts:489:9 â€º API Tests - Store & Kiosk Management â€º GET /api/kiosks â€º should filter kiosks by store 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/kiosks?store=STORE-0001[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:490:47

  44) [api-tests] â€º tests/api/comprehensive.test.ts:501:9 â€º API Tests - Store & Kiosk Management â€º POST /api/kiosks â€º should create new kiosk 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/kiosks[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 82[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:508:47

  45) [api-tests] â€º tests/api/comprehensive.test.ts:517:9 â€º API Tests - Store & Kiosk Management â€º POST /api/kiosks â€º should validate kiosk belongs to valid store 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/kiosks[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 85[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:524:47

  46) [api-tests] â€º tests/api/comprehensive.test.ts:535:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/train â€º should initiate ML training job 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ml/train[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 132[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:543:47

  47) [api-tests] â€º tests/api/comprehensive.test.ts:554:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/train â€º should validate training configuration 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ml/train[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 28[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:559:47

  48) [api-tests] â€º tests/api/comprehensive.test.ts:568:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/jobs/:jobId â€º should retrieve training job status 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ml/train[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 79[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:576:53

  49) [api-tests] â€º tests/api/comprehensive.test.ts:594:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/predict â€º should make prediction with trained model 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ml/predict[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 58[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:601:47

  50) [api-tests] â€º tests/api/comprehensive.test.ts:615:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/models â€º should list all trained models 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/ml/models[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:616:47

  51) [api-tests] â€º tests/api/comprehensive.test.ts:623:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/models â€º should filter models by status 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/ml/models?status=active[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:624:47

  52) [api-tests] â€º tests/api/comprehensive.test.ts:637:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/analyze â€º should analyze error with AI 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ai/analyze[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 104[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:644:47

  53) [api-tests] â€º tests/api/comprehensive.test.ts:655:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/analyze â€º should handle timeout for long-running analysis 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ai/analyze[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 51[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:656:47

  54) [api-tests] â€º tests/api/comprehensive.test.ts:666:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/suggest â€º should provide fix suggestions 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ai/suggest[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 55[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:672:47

  55) [api-tests] â€º tests/api/comprehensive.test.ts:685:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/summarize â€º should summarize multiple errors 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/ai/summarize[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 128[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:692:47

  56) [api-tests] â€º tests/api/comprehensive.test.ts:707:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should handle Excel file upload 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/upload[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 256[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:710:47

  57) [api-tests] â€º tests/api/comprehensive.test.ts:726:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should reject files exceeding size limit 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/upload[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 11534575[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:729:47

  58) [api-tests] â€º tests/api/comprehensive.test.ts:742:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should reject unsupported file types 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/upload[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 208[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:745:47

  59) [api-tests] â€º tests/api/comprehensive.test.ts:760:9 â€º API Tests - File Upload & Processing â€º GET /api/uploads/:fileId â€º should retrieve upload status 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/upload[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 184[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:763:53

  60) [api-tests] â€º tests/api/comprehensive.test.ts:785:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/firebase â€º should authenticate with valid Firebase token 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/auth/firebase[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 30[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:786:47

  61) [api-tests] â€º tests/api/comprehensive.test.ts:799:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/firebase â€º should reject invalid token 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/auth/firebase[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 27[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:800:47

  62) [api-tests] â€º tests/api/comprehensive.test.ts:811:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/logout â€º should logout user 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/auth/firebase[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 25[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:813:52

  63) [api-tests] â€º tests/api/comprehensive.test.ts:831:9 â€º API Tests - Authentication & Authorization â€º GET /api/admin/users â€º should require admin role 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/admin/users[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization:[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:832:47

  64) [api-tests] â€º tests/api/comprehensive.test.ts:838:9 â€º API Tests - Authentication & Authorization â€º GET /api/admin/users â€º should allow access with admin token 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/auth/firebase-signin[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 179[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:848:52

  65) [api-tests] â€º tests/api/comprehensive.test.ts:871:5 â€º API Tests - Request Validation â€º should reject requests with invalid Content-Type 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: text/plain[22m
    [2m    - content-length: 8[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:872:43

  66) [api-tests] â€º tests/api/comprehensive.test.ts:882:5 â€º API Tests - Request Validation â€º should validate JSON syntax 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 16[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:883:43

  67) [api-tests] â€º tests/api/comprehensive.test.ts:893:5 â€º API Tests - Request Validation â€º should enforce maximum payload size 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 1000051[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:900:43

  68) [api-tests] â€º tests/api/comprehensive.test.ts:907:5 â€º API Tests - Request Validation â€º should validate required headers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:908:43

  69) [api-tests] â€º tests/api/comprehensive.test.ts:918:5 â€º API Tests - Request Validation â€º should handle missing request body 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:919:43

  70) [api-tests] â€º tests/api/comprehensive.test.ts:924:5 â€º API Tests - Request Validation â€º should validate URL parameter formats 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=invalid[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:925:43

  71) [api-tests] â€º tests/api/comprehensive.test.ts:930:5 â€º API Tests - Request Validation â€º should handle special characters in query params 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?search=!%40%23%24%25%5E%26*()[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:932:43

  72) [api-tests] â€º tests/api/comprehensive.test.ts:941:5 â€º API Tests - Response Format Validation â€º should return proper Content-Type headers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:942:43

  73) [api-tests] â€º tests/api/comprehensive.test.ts:948:5 â€º API Tests - Response Format Validation â€º should include CORS headers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - Origin: http://localhost:5173[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:949:43

  74) [api-tests] â€º tests/api/comprehensive.test.ts:959:5 â€º API Tests - Response Format Validation â€º should return consistent error response format 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/999999[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:960:43

  75) [api-tests] â€º tests/api/comprehensive.test.ts:969:5 â€º API Tests - Response Format Validation â€º should include pagination metadata 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=1&limit=5[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:970:43

  76) [api-tests] â€º tests/api/comprehensive.test.ts:981:5 â€º API Tests - Response Format Validation â€º should return timestamps in ISO format 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:982:43

  77) [api-tests] â€º tests/api/comprehensive.test.ts:995:5 â€º API Tests - Error Handling â€º should handle database connection errors gracefully 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:997:43

  78) [api-tests] â€º tests/api/comprehensive.test.ts:1003:5 â€º API Tests - Error Handling â€º should return 404 for non-existent routes 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/nonexistent[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1004:43

  79) [api-tests] â€º tests/api/comprehensive.test.ts:1009:5 â€º API Tests - Error Handling â€º should handle malformed route parameters 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/not-a-number[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1010:43

  80) [api-tests] â€º tests/api/comprehensive.test.ts:1015:5 â€º API Tests - Error Handling â€º should provide helpful error messages 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 22[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1016:43

  81) [api-tests] â€º tests/api/comprehensive.test.ts:1027:5 â€º API Tests - Error Handling â€º should handle concurrent request failures 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors/999999[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at from (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1029:24)
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1028:32

  82) [api-tests] â€º tests/api/comprehensive.test.ts:1041:5 â€º API Tests - Rate Limiting â€º should implement rate limiting 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - x-test-force-ratelimit: true[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at from (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1043:24)
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1042:32

  83) [api-tests] â€º tests/api/comprehensive.test.ts:1057:5 â€º API Tests - Rate Limiting â€º should include rate limit headers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1058:43

  84) [api-tests] â€º tests/api/comprehensive.test.ts:1073:5 â€º API Tests - Rate Limiting â€º should reset rate limits after time window 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - x-test-force-ratelimit: true[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at from (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1076:24)
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1075:39

  85) [api-tests] â€º tests/api/comprehensive.test.ts:1093:5 â€º API Tests - Pagination Edge Cases â€º should handle page=0 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=0&limit=10[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1094:43

  86) [api-tests] â€º tests/api/comprehensive.test.ts:1100:5 â€º API Tests - Pagination Edge Cases â€º should handle negative page numbers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=-1&limit=10[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1101:43

  87) [api-tests] â€º tests/api/comprehensive.test.ts:1106:5 â€º API Tests - Pagination Edge Cases â€º should handle excessive page numbers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=999999&limit=10[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1107:43

  88) [api-tests] â€º tests/api/comprehensive.test.ts:1116:5 â€º API Tests - Pagination Edge Cases â€º should handle limit=0 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=1&limit=0[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1117:43

  89) [api-tests] â€º tests/api/comprehensive.test.ts:1122:5 â€º API Tests - Pagination Edge Cases â€º should enforce maximum limit 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors?page=1&limit=10000[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1123:43

  90) [api-tests] â€º tests/api/comprehensive.test.ts:1136:5 â€º API Tests - Concurrent Operations â€º should handle concurrent reads safely 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at from (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1138:24)
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1137:32

  91) [api-tests] â€º tests/api/comprehensive.test.ts:1147:5 â€º API Tests - Concurrent Operations â€º should handle concurrent writes with proper isolation 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 71[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at map (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1155:24)
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1154:39

  92) [api-tests] â€º tests/api/comprehensive.test.ts:1164:5 â€º API Tests - Concurrent Operations â€º should prevent race conditions on updates 

    Error: apiRequestContext.post: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ POST http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - content-length: 70[22m

        at apiRequestContext.post: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1166:49

  93) [api-tests] â€º tests/api/comprehensive.test.ts:1197:5 â€º API Tests - Cache Control â€º should include appropriate cache headers 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1198:43

  94) [api-tests] â€º tests/api/comprehensive.test.ts:1208:5 â€º API Tests - Cache Control â€º should respect If-None-Match for conditional requests 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1209:44

  95) [api-tests] â€º tests/api/comprehensive.test.ts:1223:5 â€º API Tests - Cache Control â€º should support If-Modified-Since 

    Error: apiRequestContext.get: connect ECONNREFUSED ::1:4001
    Call log:
    [2m  - â†’ GET http://localhost:4001/api/errors[22m
    [2m    - user-agent: Playwright/1.57.0 (arm64; macOS 15.6) node/22.17[22m
    [2m    - accept: */*[22m
    [2m    - accept-encoding: gzip,deflate,br[22m
    [2m    - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc2NDA5NzgyMywiZXhwIjoxNzY0MTg0MjIzfQ.s7SxEArefFrUOwgLDQBpu8scT2lnHX_a2hbkWy08RhE[22m
    [2m    - Content-Type: application/json[22m
    [2m    - If-Modified-Since: Mon, 24 Nov 2025 19:11:07 GMT[22m

        at apiRequestContext.get: connect ECONNREFUSED ::1:4001
        at /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/tests/api/comprehensive.test.ts:1226:43

  95 failed
    [api-tests] â€º tests/api/auth-upload.test.ts:84:5 â€º File Upload API â€º POST /api/upload - should upload Excel file 
    [api-tests] â€º tests/api/auth-upload.test.ts:104:5 â€º File Upload API â€º POST /api/upload - should upload CSV file 
    [api-tests] â€º tests/api/auth-upload.test.ts:119:5 â€º File Upload API â€º POST /api/upload - should reject invalid file type 
    [api-tests] â€º tests/api/auth-upload.test.ts:138:5 â€º File Upload API â€º GET /api/files - should list uploaded files 
    [api-tests] â€º tests/api/auth-upload.test.ts:154:5 â€º File Upload API â€º GET /api/files/:id - should get file details 
    [api-tests] â€º tests/api/auth-upload.test.ts:179:5 â€º File Upload API â€º DELETE /api/files/:id - should delete file 
    [api-tests] â€º tests/api/comprehensive.test.ts:5:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should retrieve all errors 
    [api-tests] â€º tests/api/comprehensive.test.ts:13:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should support pagination 
    [api-tests] â€º tests/api/comprehensive.test.ts:25:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by severity 
    [api-tests] â€º tests/api/comprehensive.test.ts:36:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by error type 
    [api-tests] â€º tests/api/comprehensive.test.ts:47:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by date range 
    [api-tests] â€º tests/api/comprehensive.test.ts:58:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should search by message 
    [api-tests] â€º tests/api/comprehensive.test.ts:69:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by resolved status 
    [api-tests] â€º tests/api/comprehensive.test.ts:80:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should filter by store 
    [api-tests] â€º tests/api/comprehensive.test.ts:91:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should support sorting 
    [api-tests] â€º tests/api/comprehensive.test.ts:105:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors â€º should handle invalid query parameters gracefully 
    [api-tests] â€º tests/api/comprehensive.test.ts:115:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should create new error 
    [api-tests] â€º tests/api/comprehensive.test.ts:136:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should validate required fields 
    [api-tests] â€º tests/api/comprehensive.test.ts:151:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should validate severity values 
    [api-tests] â€º tests/api/comprehensive.test.ts:165:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors â€º should set default values for optional fields 
    [api-tests] â€º tests/api/comprehensive.test.ts:185:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should retrieve specific error by ID 
    [api-tests] â€º tests/api/comprehensive.test.ts:208:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should return 404 for non-existent error 
    [api-tests] â€º tests/api/comprehensive.test.ts:213:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/:id â€º should return 400 for invalid ID format 
    [api-tests] â€º tests/api/comprehensive.test.ts:220:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should update error fields 
    [api-tests] â€º tests/api/comprehensive.test.ts:253:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should validate updated field values 
    [api-tests] â€º tests/api/comprehensive.test.ts:271:9 â€º API Tests - Error Management Endpoints â€º PATCH /api/errors/:id â€º should return 404 when updating non-existent error 
    [api-tests] â€º tests/api/comprehensive.test.ts:281:9 â€º API Tests - Error Management Endpoints â€º DELETE /api/errors/:id â€º should delete error 
    [api-tests] â€º tests/api/comprehensive.test.ts:304:9 â€º API Tests - Error Management Endpoints â€º DELETE /api/errors/:id â€º should return 404 when deleting non-existent error 
    [api-tests] â€º tests/api/comprehensive.test.ts:311:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/bulk â€º should create multiple errors in bulk 
    [api-tests] â€º tests/api/comprehensive.test.ts:330:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/bulk â€º should handle validation errors in bulk creation 
    [api-tests] â€º tests/api/comprehensive.test.ts:347:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should retrieve error statistics 
    [api-tests] â€º tests/api/comprehensive.test.ts:359:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should filter statistics by date range 
    [api-tests] â€º tests/api/comprehensive.test.ts:369:9 â€º API Tests - Error Management Endpoints â€º GET /api/errors/stats â€º should provide statistics by store 
    [api-tests] â€º tests/api/comprehensive.test.ts:379:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as CSV 
    [api-tests] â€º tests/api/comprehensive.test.ts:392:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as JSON 
    [api-tests] â€º tests/api/comprehensive.test.ts:405:9 â€º API Tests - Error Management Endpoints â€º POST /api/errors/export â€º should export errors as Excel 
    [api-tests] â€º tests/api/comprehensive.test.ts:422:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should retrieve all stores 
    [api-tests] â€º tests/api/comprehensive.test.ts:430:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should support pagination for stores 
    [api-tests] â€º tests/api/comprehensive.test.ts:438:9 â€º API Tests - Store & Kiosk Management â€º GET /api/stores â€º should search stores by name 
    [api-tests] â€º tests/api/comprehensive.test.ts:446:9 â€º API Tests - Store & Kiosk Management â€º POST /api/stores â€º should create new store 
    [api-tests] â€º tests/api/comprehensive.test.ts:463:9 â€º API Tests - Store & Kiosk Management â€º POST /api/stores â€º should prevent duplicate store numbers 
    [api-tests] â€º tests/api/comprehensive.test.ts:481:9 â€º API Tests - Store & Kiosk Management â€º GET /api/kiosks â€º should retrieve all kiosks 
    [api-tests] â€º tests/api/comprehensive.test.ts:489:9 â€º API Tests - Store & Kiosk Management â€º GET /api/kiosks â€º should filter kiosks by store 
    [api-tests] â€º tests/api/comprehensive.test.ts:501:9 â€º API Tests - Store & Kiosk Management â€º POST /api/kiosks â€º should create new kiosk 
    [api-tests] â€º tests/api/comprehensive.test.ts:517:9 â€º API Tests - Store & Kiosk Management â€º POST /api/kiosks â€º should validate kiosk belongs to valid store 
    [api-tests] â€º tests/api/comprehensive.test.ts:535:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/train â€º should initiate ML training job 
    [api-tests] â€º tests/api/comprehensive.test.ts:554:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/train â€º should validate training configuration 
    [api-tests] â€º tests/api/comprehensive.test.ts:568:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/jobs/:jobId â€º should retrieve training job status 
    [api-tests] â€º tests/api/comprehensive.test.ts:594:9 â€º API Tests - ML Training Endpoints â€º POST /api/ml/predict â€º should make prediction with trained model 
    [api-tests] â€º tests/api/comprehensive.test.ts:615:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/models â€º should list all trained models 
    [api-tests] â€º tests/api/comprehensive.test.ts:623:9 â€º API Tests - ML Training Endpoints â€º GET /api/ml/models â€º should filter models by status 
    [api-tests] â€º tests/api/comprehensive.test.ts:637:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/analyze â€º should analyze error with AI 
    [api-tests] â€º tests/api/comprehensive.test.ts:655:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/analyze â€º should handle timeout for long-running analysis 
    [api-tests] â€º tests/api/comprehensive.test.ts:666:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/suggest â€º should provide fix suggestions 
    [api-tests] â€º tests/api/comprehensive.test.ts:685:9 â€º API Tests - AI Analysis Endpoints â€º POST /api/ai/summarize â€º should summarize multiple errors 
    [api-tests] â€º tests/api/comprehensive.test.ts:707:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should handle Excel file upload 
    [api-tests] â€º tests/api/comprehensive.test.ts:726:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should reject files exceeding size limit 
    [api-tests] â€º tests/api/comprehensive.test.ts:742:9 â€º API Tests - File Upload & Processing â€º POST /api/upload â€º should reject unsupported file types 
    [api-tests] â€º tests/api/comprehensive.test.ts:760:9 â€º API Tests - File Upload & Processing â€º GET /api/uploads/:fileId â€º should retrieve upload status 
    [api-tests] â€º tests/api/comprehensive.test.ts:785:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/firebase â€º should authenticate with valid Firebase token 
    [api-tests] â€º tests/api/comprehensive.test.ts:799:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/firebase â€º should reject invalid token 
    [api-tests] â€º tests/api/comprehensive.test.ts:811:9 â€º API Tests - Authentication & Authorization â€º POST /api/auth/logout â€º should logout user 
    [api-tests] â€º tests/api/comprehensive.test.ts:831:9 â€º API Tests - Authentication & Authorization â€º GET /api/admin/users â€º should require admin role 
    [api-tests] â€º tests/api/comprehensive.test.ts:838:9 â€º API Tests - Authentication & Authorization â€º GET /api/admin/users â€º should allow access with admin token 
    [api-tests] â€º tests/api/comprehensive.test.ts:871:5 â€º API Tests - Request Validation â€º should reject requests with invalid Content-Type 
    [api-tests] â€º tests/api/comprehensive.test.ts:882:5 â€º API Tests - Request Validation â€º should validate JSON syntax 
    [api-tests] â€º tests/api/comprehensive.test.ts:893:5 â€º API Tests - Request Validation â€º should enforce maximum payload size 
    [api-tests] â€º tests/api/comprehensive.test.ts:907:5 â€º API Tests - Request Validation â€º should validate required headers 
    [api-tests] â€º tests/api/comprehensive.test.ts:918:5 â€º API Tests - Request Validation â€º should handle missing request body 
    [api-tests] â€º tests/api/comprehensive.test.ts:924:5 â€º API Tests - Request Validation â€º should validate URL parameter formats 
    [api-tests] â€º tests/api/comprehensive.test.ts:930:5 â€º API Tests - Request Validation â€º should handle special characters in query params 
    [api-tests] â€º tests/api/comprehensive.test.ts:941:5 â€º API Tests - Response Format Validation â€º should return proper Content-Type headers 
    [api-tests] â€º tests/api/comprehensive.test.ts:948:5 â€º API Tests - Response Format Validation â€º should include CORS headers 
    [api-tests] â€º tests/api/comprehensive.test.ts:959:5 â€º API Tests - Response Format Validation â€º should return consistent error response format 
    [api-tests] â€º tests/api/comprehensive.test.ts:969:5 â€º API Tests - Response Format Validation â€º should include pagination metadata 
    [api-tests] â€º tests/api/comprehensive.test.ts:981:5 â€º API Tests - Response Format Validation â€º should return timestamps in ISO format 
    [api-tests] â€º tests/api/comprehensive.test.ts:995:5 â€º API Tests - Error Handling â€º should handle database connection errors gracefully 
    [api-tests] â€º tests/api/comprehensive.test.ts:1003:5 â€º API Tests - Error Handling â€º should return 404 for non-existent routes 
    [api-tests] â€º tests/api/comprehensive.test.ts:1009:5 â€º API Tests - Error Handling â€º should handle malformed route parameters 
    [api-tests] â€º tests/api/comprehensive.test.ts:1015:5 â€º API Tests - Error Handling â€º should provide helpful error messages 
    [api-tests] â€º tests/api/comprehensive.test.ts:1027:5 â€º API Tests - Error Handling â€º should handle concurrent request failures 
    [api-tests] â€º tests/api/comprehensive.test.ts:1041:5 â€º API Tests - Rate Limiting â€º should implement rate limiting 
    [api-tests] â€º tests/api/comprehensive.test.ts:1057:5 â€º API Tests - Rate Limiting â€º should include rate limit headers 
    [api-tests] â€º tests/api/comprehensive.test.ts:1073:5 â€º API Tests - Rate Limiting â€º should reset rate limits after time window 
    [api-tests] â€º tests/api/comprehensive.test.ts:1093:5 â€º API Tests - Pagination Edge Cases â€º should handle page=0 
    [api-tests] â€º tests/api/comprehensive.test.ts:1100:5 â€º API Tests - Pagination Edge Cases â€º should handle negative page numbers 
    [api-tests] â€º tests/api/comprehensive.test.ts:1106:5 â€º API Tests - Pagination Edge Cases â€º should handle excessive page numbers 
    [api-tests] â€º tests/api/comprehensive.test.ts:1116:5 â€º API Tests - Pagination Edge Cases â€º should handle limit=0 
    [api-tests] â€º tests/api/comprehensive.test.ts:1122:5 â€º API Tests - Pagination Edge Cases â€º should enforce maximum limit 
    [api-tests] â€º tests/api/comprehensive.test.ts:1136:5 â€º API Tests - Concurrent Operations â€º should handle concurrent reads safely 
    [api-tests] â€º tests/api/comprehensive.test.ts:1147:5 â€º API Tests - Concurrent Operations â€º should handle concurrent writes with proper isolation 
    [api-tests] â€º tests/api/comprehensive.test.ts:1164:5 â€º API Tests - Concurrent Operations â€º should prevent race conditions on updates 
    [api-tests] â€º tests/api/comprehensive.test.ts:1197:5 â€º API Tests - Cache Control â€º should include appropriate cache headers 
    [api-tests] â€º tests/api/comprehensive.test.ts:1208:5 â€º API Tests - Cache Control â€º should respect If-None-Match for conditional requests 
    [api-tests] â€º tests/api/comprehensive.test.ts:1223:5 â€º API Tests - Cache Control â€º should support If-Modified-Since 
  7 passed (59.2s)

[36m  Serving HTML report at http://localhost:54310. Press Ctrl+C to quit.[39m
