
> stacklens-ai-platform@1.0.0 dev:server
> cross-env NODE_ENV=development node --import tsx --no-warnings apps/api/src/index.ts

[dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
ü§ñ AI Service initialized with 1 providers: gemini
[dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops
üöÄ RAG: Vector database initialized
{"level":"WARN","timestamp":"2025-11-25T17:41:41.864Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}
üîÑ Starting server initialization...
Starting LogWatcher service for real-time monitoring...
üìç Watching directories: /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/data, /Users/deepak/Downloads/Projects/StackLens-AI-Deploy/logs
[LogWatcherService] Started watching 2 file(s)
‚úÖ LogWatcher service started successfully
‚úÖ Routes registered successfully
üîÑ Setting up Vite...
üìö RAG: Indexing 50 resolved error patterns...
‚úÖ RAG: Knowledge base populated with 50 patterns
üîÑ Indexing existing errors for RAG system...
‚ö†Ô∏è Vector DB not initialized, storing patterns locally
‚úÖ Successfully indexed 807 errors for RAG
‚úÖ Enhanced RAG Suggestor initialized
üéØ Enhanced RAG system ready with vector database
üöÄ Starting Python vector database service...
‚ö†Ô∏è Enhanced vector service not found, using fallback similarity search
‚úÖ Vector database service initialized
Re-optimizing dependencies because vite config has changed
‚úÖ Vite setup complete
11:11:57 PM [express] serving on port 4000
11:12:21 PM [express] GET /api/auth/me 200 in 42ms :: {"user":{"id":1,"username":"deepanimators","ema‚Ä¶
11:12:21 PM [express] GET /api/admin/ui-settings 304 in 5ms :: {"theme":"light","sidebarCollapsed":fa‚Ä¶
11:12:21 PM [express] GET /api/admin/api-settings 304 in 90ms :: {"geminiApiKey":"","webhookUrl":"","‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:12:22 PM [express] GET /api/analysis/history 200 in 75ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üîç [DEBUG] Dashboard - Resolution Rate: 160 resolved out of 152814 total = 0.1%
11:12:28 PM [express] GET /api/dashboard/stats 200 in 6844ms :: {"totalFiles":96,"totalErrors":152814‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:12:28 PM [express] GET /api/analysis/history 200 in 15ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
11:12:28 PM [express] GET /api/files 200 in 3ms :: {"files":[{"id":117,"filename":"files-175973879543‚Ä¶
11:12:28 PM [express] GET /api/version 304 in 3ms :: {"version":"0.9.5","releaseDate":"2025-11-19","c‚Ä¶
11:12:29 PM [express] GET /api/errors 200 in 482ms :: {"errors":[{"id":155382,"fileId":117,"storeNumb‚Ä¶
11:12:29 PM [express] GET /api/version 200 in 2ms :: {"version":"0.9.5","releaseDate":"2025-11-19","c‚Ä¶
11:12:29 PM [express] GET /api/analytics/metrics 200 in 7ms :: {"success":true,"data":{"window":"1min‚Ä¶
11:12:29 PM [express] GET /api/analytics/health-status 200 in 7ms :: {"success":true,"data":{"status"‚Ä¶
11:12:29 PM [express] GET /api/analytics/alerts 200 in 1ms :: {"success":true,"data":{"alerts":[],"to‚Ä¶
11:12:32 PM [express] GET /api/auth/me 200 in 13ms :: {"user":{"id":1,"username":"deepanimators","ema‚Ä¶
11:12:34 PM [express] GET /api/analytics/metrics 200 in 8ms :: {"success":true,"data":{"window":"1min‚Ä¶
11:12:34 PM [express] GET /api/analytics/health-status 200 in 1ms :: {"success":true,"data":{"status"‚Ä¶
11:12:39 PM [express] GET /api/auth/me 200 in 15ms :: {"user":{"id":1,"username":"deepanimators","ema‚Ä¶
11:12:39 PM [express] GET /api/analytics/alerts 200 in 3ms :: {"success":true,"data":{"alerts":[],"to‚Ä¶
11:12:39 PM [express] GET /api/analytics/metrics 200 in 1ms :: {"success":true,"data":{"window":"1min‚Ä¶
11:12:39 PM [express] GET /api/analytics/health-status 200 in 13ms :: {"success":true,"data":{"status‚Ä¶
11:12:44 PM [express] GET /api/analytics/metrics 200 in 2ms :: {"success":true,"data":{"window":"1min‚Ä¶
11:12:44 PM [express] GET /api/analytics/health-status 200 in 1ms :: {"success":true,"data":{"status"‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:12:46 PM [express] GET /api/analysis/history 200 in 20ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
11:12:49 PM [express] GET /api/analytics/alerts 200 in 1ms :: {"success":true,"data":{"alerts":[],"to‚Ä¶
11:12:49 PM [express] GET /api/analytics/metrics 200 in 1ms :: {"success":true,"data":{"window":"1min‚Ä¶
11:12:49 PM [express] GET /api/analytics/health-status 200 in 0ms :: {"success":true,"data":{"status"‚Ä¶
11:12:51 PM [express] GET /api/version 200 in 12ms :: {"version":"0.9.5","releaseDate":"2025-11-19","‚Ä¶
11:12:51 PM [express] GET /api/ai/train-suggestion-model/scenarios 200 in 86ms :: {"success":true,"to‚Ä¶
11:12:57 PM [express] GET /api/auth/me 200 in 14ms :: {"user":{"id":1,"username":"deepanimators","ema‚Ä¶
11:12:57 PM [express] GET /api/version 200 in 23ms :: {"version":"0.9.5","releaseDate":"2025-11-19","‚Ä¶
11:12:57 PM [express] GET /api/settings 200 in 14ms :: {"id":1,"userId":1,"denseMode":true,"autoRefre‚Ä¶
11:12:57 PM [express] GET /api/stores 200 in 4ms :: [{"id":3,"storeNumber":"BK-10","name":"BKC","loca‚Ä¶
11:12:57 PM [express] GET /api/kiosks 200 in 4ms :: [{"id":24,"kioskNumber":"BK-14959-K1","storeId":1‚Ä¶
11:13:03 PM [express] GET /api/version 200 in 9ms :: {"version":"0.9.5","releaseDate":"2025-11-19","c‚Ä¶
Error fetching admin stats: SqliteError: no such column: "updated_at" - should this be a string literal in single-quotes?
    at Database.prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:50:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/session.ts:135:15)
    at SQLiteSelectBase._prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:865:85)
    at SQLiteSelectBase.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:884:15)
    at SQLiteSelectBase.execute (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:896:15)
    at SQLiteSelectBase.then (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'SQLITE_ERROR'
}
11:13:03 PM [express] GET /api/admin/stats 500 in 148ms :: {"message":"Failed to fetch admin stats"}
11:13:03 PM [express] GET /api/admin/users 200 in 67ms :: [{"id":11,"username":"Rajasbc@gmail.com","e‚Ä¶
Error fetching roles: SqliteError: no such column: "updated_at" - should this be a string literal in single-quotes?
    at Database.prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:50:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/session.ts:135:15)
    at SQLiteSelectBase._prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:865:85)
    at SQLiteSelectBase.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:884:15)
    at SQLiteSelectBase.execute (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:896:15)
    at SQLiteSelectBase.then (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'SQLITE_ERROR'
}
11:13:03 PM [express] GET /api/admin/roles 500 in 8ms :: {"message":"Failed to fetch roles"}
Error fetching training modules: SqliteError: no such column: "difficulty" - should this be a string literal in single-quotes?
    at Database.prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:50:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/session.ts:135:15)
    at SQLiteSelectBase._prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:865:85)
    at SQLiteSelectBase.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:884:15)
    at SQLiteSelectBase.execute (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:896:15)
    at SQLiteSelectBase.then (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'SQLITE_ERROR'
}
11:13:03 PM [express] GET /api/admin/training-modules 500 in 11ms :: {"message":"Failed to fetch trai‚Ä¶
Error fetching models: SqliteError: no such column: "training_data" - should this be a string literal in single-quotes?
    at Database.prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:50:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/session.ts:135:15)
    at SQLiteSelectBase._prepare (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:865:85)
    at SQLiteSelectBase.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:884:15)
    at SQLiteSelectBase.execute (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/select.ts:896:15)
    at SQLiteSelectBase.then (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'SQLITE_ERROR'
}
11:13:03 PM [express] GET /api/admin/models 500 in 7ms :: {"message":"Failed to fetch models"}
11:13:09 PM [vite] page reload playwright-report/index.html
11:13:09 PM [vite] page reload playwright-report/index.html
11:13:10 PM [vite] page reload playwright-report/index.html
11:13:10 PM [vite] page reload playwright-report/index.html
11:13:27 PM [express] GET /api/auth/me 200 in 6ms :: {"user":{"id":1,"username":"deepanimators","emai‚Ä¶
11:13:28 PM [express] GET /api/jira/status 200 in 12ms :: {"success":true,"data":{"configured":false,‚Ä¶
11:13:28 PM [express] GET /api/automation/status 200 in 5ms :: {"success":true,"data":{"enabled":true‚Ä¶
11:13:28 PM [express] GET /api/watcher/status 200 in 77ms :: {"success":true,"data":{"isWatching":tru‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:13:33 PM [express] GET /api/analysis/history 200 in 224ms :: {"history":[{"id":108,"fileId":117,"f‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:13:33 PM [express] GET /api/analysis/history 200 in 52ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:13:43 PM [express] GET /api/analysis/history 200 in 88ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:13:53 PM [express] GET /api/analysis/history 200 in 87ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:03 PM [express] GET /api/analysis/history 200 in 159ms :: {"history":[{"id":108,"fileId":117,"f‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:03 PM [express] GET /api/analysis/history 200 in 6ms :: {"history":[{"id":108,"fileId":117,"fil‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:13 PM [express] GET /api/analysis/history 200 in 17ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
‚ö†Ô∏è Token verification failed - likely expired. Attempting to decode without verification for development mode...
üëë Granting admin role to test@stacklens.ai
11:14:22 PM [express] POST /api/auth/firebase-signin 200 in 107ms :: {"user":{"id":15,"username":"tes‚Ä¶
11:14:22 PM [express] GET /api/auth/me 200 in 3ms :: {"user":{"id":15,"username":"test","email":"test‚Ä¶
11:14:22 PM [express] GET /api/admin/ui-settings 200 in 2ms :: {"theme":"light","sidebarCollapsed":fa‚Ä¶
11:14:22 PM [express] GET /api/admin/api-settings 200 in 3ms :: {"geminiApiKey":"AIzaSyAOu2YCkjimtYsv‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 15 }
11:14:22 PM [express] GET /api/analysis/history 200 in 4ms :: {"history":[],"pagination":{"page":1,"l‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 15 }
11:14:22 PM [express] GET /api/analysis/history 200 in 6ms :: {"history":[],"pagination":{"page":1,"l‚Ä¶
11:14:22 PM [express] GET /api/files 200 in 5ms :: {"files":[{"id":117,"filename":"files-175973879543‚Ä¶
üîç [DEBUG] Dashboard - Resolution Rate: 160 resolved out of 152814 total = 0.1%
11:14:26 PM [express] GET /api/dashboard/stats 200 in 3556ms :: {"totalFiles":96,"totalErrors":152814‚Ä¶
11:14:26 PM [express] GET /api/errors 200 in 387ms :: {"errors":[{"id":155382,"fileId":117,"storeNumb‚Ä¶
11:14:26 PM [express] GET /api/version 200 in 2ms :: {"version":"0.9.5","releaseDate":"2025-11-19","c‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:26 PM [express] GET /api/analysis/history 200 in 7ms :: {"history":[{"id":108,"fileId":117,"fil‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:33 PM [express] GET /api/analysis/history 200 in 45ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:36 PM [express] GET /api/analysis/history 200 in 11ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:46 PM [express] GET /api/analysis/history 200 in 10ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:14:56 PM [express] GET /api/analysis/history 200 in 14ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:15:03 PM [express] GET /api/analysis/history 200 in 93ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:15:06 PM [express] GET /api/analysis/history 200 in 9ms :: {"history":[{"id":108,"fileId":117,"fil‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:15:16 PM [express] GET /api/analysis/history 200 in 17ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:15:26 PM [express] GET /api/analysis/history 200 in 7ms :: {"history":[{"id":108,"fileId":117,"fil‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:15:33 PM [express] GET /api/analysis/history 200 in 14ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:15:36 PM [express] GET /api/analysis/history 200 in 5ms :: {"history":[{"id":108,"fileId":117,"fil‚Ä¶
11:15:41 PM [vite] page reload playwright-report/index.html
11:15:41 PM [vite] page reload playwright-report/index.html
üîß Checking for stuck processing jobs...
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:23:59 PM [express] GET /api/analysis/history 200 in 121ms :: {"history":[{"id":108,"fileId":117,"f‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:23:59 PM [express] GET /api/analysis/history 200 in 17ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
11:23:59 PM [express] GET /api/auth/me 200 in 1ms :: {"user":{"id":1,"username":"deepanimators","emai‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:09 PM [express] GET /api/analysis/history 200 in 30ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:19 PM [express] GET /api/analysis/history 200 in 16ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:29 PM [express] GET /api/analysis/history 200 in 21ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:29 PM [express] GET /api/analysis/history 200 in 12ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:39 PM [express] GET /api/analysis/history 200 in 24ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:49 PM [express] GET /api/analysis/history 200 in 22ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:59 PM [express] GET /api/analysis/history 200 in 44ms :: {"history":[{"id":108,"fileId":117,"fi‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 1 }
11:24:59 PM [express] GET /api/analysis/history 200 in 7ms :: {"history":[{"id":108,"fileId":117,"fil‚Ä¶
‚ö†Ô∏è Token verification failed - likely expired. Attempting to decode without verification for development mode...
üëë Granting admin role to test@stacklens.ai
11:29:23 PM [express] POST /api/auth/firebase-signin 200 in 11ms :: {"user":{"id":15,"username":"test‚Ä¶
11:29:24 PM [express] GET /api/auth/me 200 in 2ms :: {"user":{"id":15,"username":"test","email":"test‚Ä¶
11:29:24 PM [express] GET /api/admin/ui-settings 200 in 1ms :: {"theme":"light","sidebarCollapsed":fa‚Ä¶
11:29:24 PM [express] GET /api/admin/api-settings 200 in 2ms :: {"geminiApiKey":"AIzaSyAOu2YCkjimtYsv‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 15 }
11:29:24 PM [express] GET /api/analysis/history 200 in 3ms :: {"history":[],"pagination":{"page":1,"l‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 15 }
11:29:24 PM [express] GET /api/analysis/history 200 in 3ms :: {"history":[],"pagination":{"page":1,"l‚Ä¶
11:29:24 PM [express] GET /api/files 200 in 7ms :: {"files":[{"id":117,"filename":"files-175973879543‚Ä¶
üîç [DEBUG] Dashboard - Resolution Rate: 161 resolved out of 152828 total = 0.1%
11:29:26 PM [express] GET /api/dashboard/stats 200 in 2790ms :: {"totalFiles":96,"totalErrors":152828‚Ä¶
11:29:27 PM [express] GET /api/errors 200 in 323ms :: {"errors":[{"id":155382,"fileId":117,"storeNumb‚Ä¶
11:29:27 PM [express] GET /api/version 200 in 3ms :: {"version":"0.9.5","releaseDate":"2025-11-19","c‚Ä¶
11:29:37 PM [vite] page reload playwright-report/index.html
11:29:37 PM [vite] page reload playwright-report/index.html
üîß Checking for stuck processing jobs...
‚ö†Ô∏è Token verification failed - likely expired. Attempting to decode without verification for development mode...
üëë Granting admin role to test@stacklens.ai
11:33:09 PM [express] POST /api/auth/firebase-signin 200 in 17ms :: {"user":{"id":15,"username":"test‚Ä¶
11:33:09 PM [express] GET /api/auth/me 200 in 2ms :: {"user":{"id":15,"username":"test","email":"test‚Ä¶
11:33:09 PM [express] GET /api/admin/ui-settings 200 in 1ms :: {"theme":"light","sidebarCollapsed":fa‚Ä¶
11:33:09 PM [express] GET /api/admin/api-settings 200 in 1ms :: {"geminiApiKey":"AIzaSyAOu2YCkjimtYsv‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 15 }
11:33:09 PM [express] GET /api/analysis/history 200 in 2ms :: {"history":[],"pagination":{"page":1,"l‚Ä¶
üìä Analysis history request: { page: 1, limit: 20, fileIdFilter: null, userId: 15 }
11:33:09 PM [express] GET /api/analysis/history 200 in 2ms :: {"history":[],"pagination":{"page":1,"l‚Ä¶
üîç [DEBUG] Dashboard - Resolution Rate: 161 resolved out of 152828 total = 0.1%
11:33:12 PM [express] GET /api/dashboard/stats 200 in 3146ms :: {"totalFiles":96,"totalErrors":152828‚Ä¶
11:33:12 PM [express] GET /api/files 200 in 3ms :: {"files":[{"id":117,"filename":"files-175973879543‚Ä¶
11:33:13 PM [express] GET /api/errors 200 in 429ms :: {"errors":[{"id":155382,"fileId":117,"storeNumb‚Ä¶
11:33:13 PM [express] GET /api/version 200 in 2ms :: {"version":"0.9.5","releaseDate":"2025-11-19","c‚Ä¶
11:33:23 PM [vite] page reload playwright-report/index.html
11:33:23 PM [vite] page reload playwright-report/index.html
‚ö†Ô∏è Token verification failed - likely expired. Attempting to decode without verification for development mode...
üëë Granting admin role to test@stacklens.ai
User sync failed: SqliteError: attempt to write a readonly database
    at PreparedQuery.values (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:156:26)
    at PreparedQuery.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:124:21)
    at QueryPromise.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/update.ts:441:26)
    at QueryPromise.execute (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/update.ts:453:40)
    at QueryPromise.then (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'SQLITE_READONLY_DBMOVED'
}
Firebase token verification error: SqliteError: attempt to write a readonly database
    at PreparedQuery.values (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:156:26)
    at PreparedQuery.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/better-sqlite3/session.ts:124:21)
    at QueryPromise.all (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/update.ts:441:26)
    at QueryPromise.execute (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/sqlite-core/query-builders/update.ts:453:40)
    at QueryPromise.then (/Users/deepak/Downloads/Projects/StackLens-AI-Deploy/node_modules/src/query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'SQLITE_READONLY_DBMOVED'
}
11:35:30 PM [express] POST /api/auth/firebase-signin 500 in 15ms :: {"message":"Token verification fa‚Ä¶
11:35:40 PM [vite] page reload playwright-report/index.html
